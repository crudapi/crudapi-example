(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{fd80:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md q-gutter-sm bg-page"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{label:e.tableCaption,clickable:"",to:e.listUrl}}),a("q-breadcrumbs-el",{attrs:{label:"添加"}})],1),a("q-separator"),a("div",{staticClass:"q-py-md bg-white"},[a("CTableNew",{ref:"rTableNewRef",attrs:{tableName:e.tableName}}),a("div",{staticClass:"row justify-center q-py-md"},[a("q-btn",{attrs:{unelevated:"",color:"primary",label:"保存"},on:{click:e.onSubmit}})],1)],1)],1)},n=[],i=a("c973"),o=a.n(i),c=(a("96cf"),a("8e44")),s={name:"PageTableNew",data:function(){return{listUrl:"",tableName:"",tableCaption:"",tableData:{}}},created:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){},activated:function(){},deactivated:function(){},updated:function(){},destroyed:function(){},beforeRouteUpdate:function(e,t,a){var r=this;return o()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("beforeRouteUpdate"),t.next=3,r.init(e.params.tableName);case 3:a();case 4:case"end":return t.stop()}}),t)})))()},methods:{init:function(e){var t=this;return o()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$store.commit("config/updateIsAllowBack",t.$route.meta.isAllowBack),t.tableName=e||t.$route.params.tableName,t.loadMeta();case 3:case"end":return a.stop()}}),a)})))()},loadMeta:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,c["e"].getByName(e.tableName);case 4:a=t.sent,e.tableCaption=a.caption,e.listUrl="/business/"+e.tableName,console.info(e.listUrl),e.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.loading=!1,console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},onSubmit:function(){var e=this;return o()(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$q.loading.show({message:"提交中"}),a=e.$refs.rTableNewRef.getData(),t.prev=2,t.next=5,c["h"].create(e.tableName,a);case 5:e.$q.loading.hide(),e.$q.notify("添加成功"),e.$router.go(-1),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),e.$q.loading.hide(),console.info(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},u=s,l=a("2877"),m=a("ead5"),d=a("079e"),b=a("eb85"),p=a("9c40"),f=a("eebe"),w=a.n(f),g=Object(l["a"])(u,r,n,!1,null,null,null);t["default"]=g.exports;w()(g,"components",{QBreadcrumbs:m["a"],QBreadcrumbsEl:d["a"],QSeparator:b["a"],QBtn:p["a"]})}}]);