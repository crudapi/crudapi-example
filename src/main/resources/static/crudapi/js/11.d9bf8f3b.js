(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"0312":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md q-gutter-sm"},[n("q-breadcrumbs",[n("q-breadcrumbs-el",{attrs:{label:"序列号管理"}}),n("q-breadcrumbs-el",{attrs:{label:"添加"}})],1),n("q-separator"),n("form",{staticClass:"q-pb-md",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[n("div",{staticClass:"row items-baseline content-center justify-start"},[n("div",{staticClass:"col-3 text-right required text-subtitle2 q-pr-md"},[e._v("编码:")]),n("q-input",{ref:"sequence.name",staticClass:"col-7",attrs:{placeholder:"请输入序号编码，如productCode","lazy-rules":"",rules:[function(e){return e&&e.length>0||"不能为空"}]},model:{value:e.sequence.name,callback:function(t){e.$set(e.sequence,"name",t)},expression:"sequence.name"}})],1),n("div",{staticClass:"row items-baseline content-center justify-start"},[n("div",{staticClass:"col-3 text-right required text-subtitle2 q-pr-md"},[e._v("名称:")]),n("q-input",{ref:"sequence.caption",staticClass:"col-7",attrs:{placeholder:"请输入序号名称，如产品code流水号","lazy-rules":"",rules:[function(e){return e&&e.length>0||"不能为空"}]},model:{value:e.sequence.caption,callback:function(t){e.$set(e.sequence,"caption",t)},expression:"sequence.caption"}})],1),n("div",{staticClass:"row items-baseline content-center justify-start"},[n("div",{staticClass:"col-3 text-right required text-subtitle2 q-pr-md"},[e._v("类型:")]),n("q-select",{staticClass:"col-7",attrs:{outlined:"",options:e.sequenceTypeOptions,"emit-value":"","map-options":""},model:{value:e.sequence.sequenceType,callback:function(t){e.$set(e.sequence,"sequenceType",t)},expression:"sequence.sequenceType"}})],1),n("div",{staticClass:"row items-center content-center justify-start"},[n("div",{staticClass:"col-3 text-right required text-subtitle2 q-pr-md"},[e._v("时间戳:")]),n("q-toggle",{staticClass:"col-7",model:{value:e.sequence.currentTime,callback:function(t){e.$set(e.sequence,"currentTime",t)},expression:"sequence.currentTime"}})],1),e.isHasFormat?n("div",{staticClass:"row items-baseline content-center justify-start q-py-md"},[n("div",{staticClass:"col-3 text-right text-subtitle2 q-pr-md"},[e._v("格式:")]),n("q-input",{ref:"sequence.format",staticClass:"col-7",attrs:{placeholder:"请输入格式，如ROLE_%09d、'SO'yyyyMMddHHmmssSSS"},model:{value:e.sequence.format,callback:function(t){e.$set(e.sequence,"format",t)},expression:"sequence.format"}})],1):e._e(),e.sequence.currentTime?e._e():n("div",{staticClass:"row items-baseline content-center justify-start q-py-md"},[n("div",{staticClass:"col-3 text-right text-subtitle2 q-pr-md"},[e._v("最小值:")]),n("q-input",{ref:"sequence.minValue",staticClass:"col-7",attrs:{type:"number",placeholder:"请输入最小值，如1"},model:{value:e.sequence.minValue,callback:function(t){e.$set(e.sequence,"minValue",t)},expression:"sequence.minValue"}})],1),e.sequence.currentTime?e._e():n("div",{staticClass:"row items-baseline content-center justify-start q-py-md"},[n("div",{staticClass:"col-3 text-right text-subtitle2 q-pr-md"},[e._v("最大值:")]),n("q-input",{ref:"sequence.maxValue",staticClass:"col-7",attrs:{type:"number",placeholder:"请输入最大值，如999999999"},model:{value:e.sequence.maxValue,callback:function(t){e.$set(e.sequence,"maxValue",t)},expression:"sequence.maxValue"}})],1),e.sequence.currentTime?e._e():n("div",{staticClass:"row items-baseline content-center justify-start q-py-md"},[n("div",{staticClass:"col-3 text-right text-subtitle2 q-pr-md"},[e._v("下一个值:")]),n("q-input",{ref:"sequence.nextValue",staticClass:"col-7",attrs:{type:"number",placeholder:"请输入下一个值，如1"},model:{value:e.sequence.nextValue,callback:function(t){e.$set(e.sequence,"nextValue",t)},expression:"sequence.nextValue"}})],1),e.sequence.currentTime?e._e():n("div",{staticClass:"row items-baseline content-center justify-start q-py-md"},[n("div",{staticClass:"col-3 text-right text-subtitle2 q-pr-md"},[e._v("步长:")]),n("q-input",{ref:"sequence.incrementBy",staticClass:"col-7",attrs:{type:"number",placeholder:"请输入步长，如1"},model:{value:e.sequence.incrementBy,callback:function(t){e.$set(e.sequence,"incrementBy",t)},expression:"sequence.incrementBy"}})],1),n("div",{staticClass:"row justify-center"},[n("q-btn",{attrs:{unelevated:"",type:"submit",color:"primary",label:"保存"}})],1)])],1)},a=[],c=n("c973"),i=n.n(c),r=(n("96cf"),n("8e44")),u=n("ed08"),l=n("11ec"),o={data:function(){return{sequenceTypeOptions:[{value:"LONG",label:"数字"},{value:"STRING",label:"字符串"}],sequence:{currentTime:!1,sequenceType:"STRING",minValue:1,maxValue:999999999,nextValue:1,incrementBy:1}}},created:function(){this.init(),console.info("created")},mounted:function(){console.info("mounted")},activated:function(){console.info("activated")},deactivated:function(){console.info("deactivated")},updated:function(){console.info("updated")},destroyed:function(){console.info("destroyed")},beforeRouteUpdate:function(e,t,n){console.info("beforeRouteUpdate"),this.init(e.params.id),n()},filters:{dateTimeFormat:function(e){return u["a"].dateTimeFormat(e)}},computed:{isHasFormat:function(){return"STRING"===this.sequence.sequenceType}},methods:{init:function(e){var t=this;return i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("init"),t.$store.commit("config/updateIsAllowBack",t.$route.meta.isAllowBack);case 2:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$q.loading.show({message:"提交中"}),t.prev=1,n=Object(l["a"])(!0,{},e.sequence),n.currentTime&&(delete n.minValue,delete n.maxValue,delete n.nextValue,delete n.incrementBy),t.next=6,r["d"].create(n);case 6:e.$q.loading.hide(),e.$q.notify("添加成功"),e.$router.go(-1),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),e.$q.loading.hide(),console.info(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},d=o,m=(n("916a"),n("2877")),p=n("ead5"),q=n("079e"),f=n("eb85"),b=n("27f9"),v=n("ddd8"),x=n("9564"),y=n("9c40"),h=n("eebe"),C=n.n(h),g=Object(m["a"])(d,s,a,!1,null,null,null);t["default"]=g.exports;C()(g,"components",{QBreadcrumbs:p["a"],QBreadcrumbsEl:q["a"],QSeparator:f["a"],QInput:b["a"],QSelect:v["a"],QToggle:x["a"],QBtn:y["a"]})},"916a":function(e,t,n){"use strict";n("e3aa")},e3aa:function(e,t,n){}}]);